{% extends "account/base.html" %}

{% load i18n %}
{% load account %}
{% load socialaccount %}

{% block head_title %}{% trans "Sign In" %}{% endblock %}

{% block content %}
    {% providers_media_js %}    
    <section class="forms login container">
        <header>
            <h2>Vamos pedalar?</h2>
            <p>Faça seu login para acessar seu painel de informações exclusivo.</p>
        </header>
        <form class="card" method="post" action="{% url 'account_login' %}">
            {% csrf_token %}
         
            <fieldset>
                <legend>Faça seu login usando</legend>
                {# include "socialaccount/snippets/provider_list.html" with process="login" #}
                <div class="login-social">
                    {% for provider in socialaccount.providers reversed %}
                    <a title="{{provider.name}}" class="{{provider.id}} btn btn-default" 
                       href="{% provider_login_url provider.id process=process scope=scope auth_params=auth_params %}"
                       >{{provider.name}}</a>
                    {% endfor %}
                </div>
            </fieldset>
            
            <fieldset>
                <legend>{% trans 'or' %}</legend>

                <div class="form-group">
                    <label for="{{ form.login.id_for_label }}">{{ form.login.label }}</label>
                    <input type="email" class="form-control" name="{{ form.login.html_name }}" id="{{ form.login.id_for_label }}" value="{{ form.login.value|default:'' }}" placeholder="{% trans 'E-Mail' %}" tabindex="1">
                    <i class="fa fa-envelope form-control-icon"></i>
                    <i class="fa fa-times form-control-feedback"></i>
                    {% if form.login.errors %}
                        {% for error in form.login.errors %}
                        <span class="text-danger">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>

                    <a class="forgot-password secondaryAction" href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>
                        
                    <input type="password" class="form-control" name="{{ form.password.html_name }}" id="{{ form.password.id_for_label }}" value="{{ form.password.value|default:'' }}" placeholder="{% trans 'Password' %}" tabindex="2" />
                    <i class="fa fa-lock form-control-icon"></i>
                    <i class="fa fa-times form-control-feedback"></i>
                    {% if form.password.errors %}
                        {% for error in form.password.errors %}
                        <span class="text-danger">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                </div>

                {% if form.non_field_errors %}
                <ul class="list-unstyled text-center">
                    {% for error in form.non_field_errors %}
                    <li class="text-danger">{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </fieldset>

            {% if redirect_field_value %}
            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
            {% endif %}

            <button class="send-form btn btn-primary btn-block btn-lg primaryAction" type="submit" tabindex="3">{% trans "Sign In" %}</button>

            <p class="create-account">{% blocktrans %}Não tem uma conta? <a href="{{ signup_url }}">Cadastre-se</a>{% endblocktrans %}</p>
        </form>

        <p class="questions"><a href="#"><i class="fa fa-question-circle"></i>
        Problemas ou Dúvidas? <b>Fale com a gente!</b></a></p>

    </section>

{% endblock %}

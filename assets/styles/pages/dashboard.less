//== User dashboard
// --------------------------------------------------

//## Common styles for both dash boards

.dashboard {
    margin-top: 30px;

    .dashboard-sidebar {
        display: none;
        @media screen and (min-width: @screen-md-min) {
            display: block;
        }
        .card {
            margin-bottom: 20px;
            overflow: hidden;
        }
        .alert {
            &.bubble {
                display: inline-block;
                margin-left: 5px;
            }
        }
        .profile {
            background-repeat: no-repeat;
            border-radius: 3px 3px 0 0;
            overflow: hidden;
            .profile-icon {
                background-color: #fff;
                border: 3px solid #fff; 
                border-radius: 91px;
                height: 91px;
                margin: 15px auto 0;
                width: 91px;
                img {
                    border-radius: 85px;
                }
            }
            .profile-name, .profile-city {
                line-height: 1;
                margin: 0;
                text-transform: uppercase;
            }
            .profile-name {
                color: #000;
                font-size: 22px;
                margin-top: 5px;
                text-align: center;
            }
            .profile-city {
                color: @gray;
                text-align: center;
            }
        }
        .sidebar-nav {
            margin: 15px;
            @media screen and (min-width: @screen-md-min) {
                padding-top: 15px;
                border-top: 1px solid lighten(@gray-lighter, 5%);
            }
            ul {
                display: none;
                @media screen and (min-width: @screen-md-min) {
                    display: block;
                }
                li {
                    margin: 0 0 10px 10px;
                    a {
                        color: @gray-darker;
                        text-transform: uppercase;
                    } 
                }
            }
        }
        .sidebar-ask-help {
            font-size: 15px;
            margin-top: 10px;
            white-space: normal;
            width: 100%;
        }
    }
    &.dashboard-home {
        .dashboard-sidebar {
            display: block;
        }
    }
    .dashboard-content {
        .card {
            margin-bottom: 20px;
            &.success-message {
                background-color: @brand-green;
                .card-button, .card-subtitle, .card-info, .card-footer .see-more-link {
                    color: #fff;
                }
                .card-subtitle {
                    font-size: 26px;
                    margin: 30px 0 15px 0;
                }
                .card-content {
                    border-bottom: 1px solid darken(@brand-green, 5%);
                }
                .card-info {
                    font-weight: 400;
                }
                .card-badge {
                    float: left;
                    height: 230px;
                    margin: 10px 30px 0 0;
                    width: 209px;
                }
            }
            &.support {
                .card-subtitle {
                    font-size: 28px;
                    margin-bottom: 15px;
                }
                .card-content {
                    padding: 30px;
                }
                .btn {
                    margin-top: 15px;
                }
            }
            .card-footer.save-config {
                padding: 20px;
                text-align: right;
            }
            .card-footer.previous-next {
                padding: 20px;
                text-align: center;
            }
            .user-icon {
                margin-left: 15px;
            }
        }
        .reply {
            .btn {
                margin-top: 20px;
            }
        }
        .old-messages {
            .card-info {
                font-size: 14px;
                margin: 0;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }
        }
    }
    .sidebar-feedback {
        display: none;
        @media screen and (min-width: @screen-md-min) {
            display: block;
        }
        a {
            background: url('../imgs/icon-bike-orange.png') no-repeat top center;
            color: @gray;
            display: block;
            padding-top: 45px;
            text-align: center;
            text-decoration: none;
            text-transform: uppercase;
        }
        span {
            font-weight: 600;
        }
    }
    .dashboard-header {
        margin-bottom: 20px;
        overflow: hidden;
        .requests-filter {
            display: inline-block;
            float: left;
            width: inherit;
        }
        .requests-label {
            color: @gray-darker;
            float: right;
            font-size: 14px;
            margin-top: 10px;
            .fa {
                margin-right: 5px;
            }
        }
    }
    .dashboard-navigation {
        text-align: center;
        .pagination {
            font-size: 15px;
            margin: 0 0 30px;
            a {
                padding: 8px 16px;
            }
        }
    }
    .dashboard-modal {
        padding: 0 !important;
        .modal-dialog {
            height: 200px; 
            width: 360px;
            @media screen and (min-width: @screen-xs-min) {
                position: absolute;
                margin-left: -180px;
                margin-top: -100px;
                left: 50%;
                top: 50%;
            }
        }
        .modal-header {
            border: 0;
            padding-bottom: 0;
            .modal-title {
                font-weight: 600;
                margin-top: 20px;
                text-align: center;

            }
        }
    }
    .confirm-finish-request-modal, .cancel-request-modal {
        text-align: center;
        p {
            margin-bottom: 20px;
        }
    }
    .confirm-finish-request-modal {
        h4 {
            color: @brand-blue;
        }
    }
    .cancel-request-modal {
        h4 {
            color: @brand-red;
        }
    }
    .finish-request-modal {
        .modal-dialog {
            height: 440px;
            margin: 10px auto 0;
            max-width: 440px;
            text-align: center;
            @media screen and (min-width: @screen-xs-min) {
                /* TODO: modal fica cortada no canto superior esquerdo
                margin-left: -220px;
                margin-top: -220px; */
            }
        }
        .request-rating {
            label {
                background-size: contain;
                background-image: url('../imgs/ico-bike-gray.png');
                cursor: pointer;
                height: 25px;
                width: 44px;
                @media screen and (min-width: @screen-xs-min) {
                    height: 36px;
                    width: 64px;
                }
            }

            &.rating-1 label:nth-child(-n + 1){ background-image: url('../imgs/ico-bike-orange.png'); } 
            &.rating-2 label:nth-child(-n + 2){ background-image: url('../imgs/ico-bike-orange.png'); }
            &.rating-3 label:nth-child(-n + 3){ background-image: url('../imgs/ico-bike-orange.png'); }
            &.rating-4 label:nth-child(-n + 4){ background-image: url('../imgs/ico-bike-orange.png'); }
            &.rating-5 label:nth-child(-n + 5){ background-image: url('../imgs/ico-bike-orange.png'); }
            &.rating-6 label:nth-child(-n + 6){ background-image: url('../imgs/ico-bike-orange.png'); }
        }
        textarea {
            margin-bottom: 20px;
        }
    }
    .message {
        margin: 30px 0;
        text-align: center;
        h3 {
            color: @brand-blue;
            font-size: 18px;
            font-weight: 600;
            margin: 0;
            text-transform: uppercase;
        }
        p {
            color: #000;
            font-size: 16px;
            font-weight: 300;
            margin: 0;
        }
        p+p {
            margin-top: 10px;
        } 
    }
    .forms {
        max-width: 420px;
    }
}

.dashboard {
    &.requester {
        .profile {
            background-image: url('../imgs/requester-profile-header.jpg');
        }
        .profile-name {
            a {
                color: @brand-orange;
            }
        }
        .sidebar-feedback {
            a {
                background: url('../imgs/ico-bike-orange.png') no-repeat top center;
            }
            span {
                color: @brand-orange;
            }
        }
        .alert {
            &.bubble {
                background-color: @brand-orange;
            }
        }
        .dashboard-content {
            .card {
                &.success-message {
                    .card-badge {
                        background: url('../imgs/requester-success-badge.png') no-repeat top center;
                    }
                }
                &.messages {
                    .card-content {
                        .btn {
                            .btn-warning;
                        }
                    }
                }
            }
            .reply {
                .card-title {
                    color: @brand-orange;
                }
            }
        }
        .card-subtitle, .card-subtitle a {
            color: @brand-orange;
        }
        .card-footer {
            .see-more-link {
                color: @brand-orange;
            }
        }
        .finish-request-modal {
            .modal-header {
                .modal-title {
                    color: @brand-orange;
                }
            }
        }
        .primary-label {
            color: @brand-orange;
        }
        .radio.checked .second-icon:before {
            background-color: @brand-orange;
        }
        .btn-success {
            .btn-warning;
        }
    }
    &.bikeanjo {
        .profile {
            background-image: url('../imgs/bikeangel-profile-header.jpg');
        }
        .profile-name {
            a {
                color: @brand-blue;
            }
        }
        .sidebar-feedback {
            a {
                background: url('../imgs/ico-bike-blue.png') no-repeat top center;
            }
            span {
                color: @brand-blue;
            }
        }
        .alert { 
            &.bubble {
                background-color: @brand-blue;
            }
        }
        .dashboard-content {
            .card {
                &.success-message {
                    .card-badge {
                        background: url('../imgs/bikeangel-success-badge.png') no-repeat top center;
                    }
                }
                &.messages {
                    .card-content {
                        .btn {
                            .btn-success;
                        }
                    }
                }
            }
            .reply {
                .card-title, .card-title a {
                    color: @brand-blue;
                }
            }
        }
        .card-subtitle, .card-subtitle a {
            color: @brand-blue;
        }
        .card-footer {
            .see-more-link {
                color: @brand-blue;
            }
        }
        .finish-request-modal {
            .modal-header {
                .modal-title {
                    color: @brand-blue;
                }
            }
        }
        .card.simple {
            h3 {
                color: @brand-blue;
            }
        }
    }
    .btn-unstyled {
        padding: 0;
        background-color: transparent;
        font-weight: normal;
    }
    .inline-block {
        display: inline-block;
    }
}
